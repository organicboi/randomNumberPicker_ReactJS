<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Motor Panna Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* Reset */
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Roboto, Arial, sans-serif;
        margin: 0;
        background: #f5f7fa;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* Container */
      .container {
        flex: 1;
        padding: 20px;
        max-width: 500px;
        margin: 0 auto;
        background: #fff;
        border-radius: 12px 12px 0 0;
        box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.08);
      }
      h1 {
        text-align: center;
        font-size: 1.4rem;
        margin-bottom: 20px;
        color: #333;
      }

      /* Form */
      .form-group {
        margin-bottom: 18px;
      }
      label {
        display: block;
        margin-bottom: 6px;
        font-weight: 600;
        font-size: 0.9rem;
        color: #444;
      }
      input,
      select {
        width: 100%;
        padding: 14px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 1rem;
        outline: none;
        transition: border 0.2s;
      }
      input:focus,
      select:focus {
        border-color: #4cafef;
      }

      /* Results */
      .summary {
        text-align: center;
        font-weight: bold;
        margin: 15px 0;
        font-size: 1rem;
        color: #111;
      }
      .result-box {
        max-height: 45vh;
        overflow-y: auto;
        padding: 12px;
        border-radius: 10px;
        border: 1px solid #ddd;
        background: #fafafa;
        font-family: monospace;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      /* Action Bar (fixed at bottom) */
      .action-bar {
        display: flex;
        justify-content: space-around;
        padding: 12px 20px;
        background: #fff;
        border-top: 1px solid #ddd;
        position: sticky;
        bottom: 0;
      }
      .btn {
        flex: 1;
        margin: 0 6px;
        padding: 14px;
        font-size: 1rem;
        border-radius: 8px;
        cursor: pointer;
        border: none;
        transition: all 0.3s ease;
      }
      .btn.primary {
        background: #4cafef;
        color: #fff;
      }
      .btn.primary:hover {
        background: #3b91d9;
      }
      .btn.secondary {
        background: #eee;
        color: #333;
      }
      .btn.secondary:hover {
        background: #ddd;
      }
      .btn.danger {
        background: #f44336;
        color: #fff;
      }
      .btn.danger:hover {
        background: #d73225;
      }

      /* Mobile First */
      @media (min-width: 600px) {
        h1 {
          font-size: 1.6rem;
        }
        .btn {
          font-size: 1.05rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>⚡ Motor Panna</h1>

      <div class="form-group">
        <label for="numberInput">Enter Digits</label>
        <input
          inputmode="numeric"
          type="text"
          id="numberInput"
          placeholder="e.g. 123456"
        />
      </div>

      <div class="form-group">
        <label for="marketName">Market Name</label>
        <input type="text" id="marketName" placeholder="Enter market name" />
      </div>

      <div class="form-group">
        <label for="playAmount">Amount</label>
        <input
          inputmode="numeric"
          type="text"
          id="playAmount"
          placeholder="Enter amount"
        />
      </div>

      <div class="form-group">
        <label for="modeSelect">Choose Type</label>
        <select id="modeSelect">
          <option value="SP">SP MOTOR (Unique digits)</option>
          <option value="DP">DP MOTOR (Two same digits)</option>
        </select>
      </div>

      <div id="totalCount" class="summary"></div>
      <div id="result" class="result-box"></div>
    </div>

    <!-- Bottom Action Bar -->
    <div class="action-bar">
      <button class="btn primary" onclick="generateCombinations()">Generate</button>
      <button class="btn secondary" onclick="copyResult()">Copy</button>
      <button class="btn danger" onclick="resetForm()">Reset</button>
    </div>

    <script>
      let combinations = [];
      let count = 0;

      function generateCombinations() {
        const numberInput = document.getElementById("numberInput").value;
        const numbers = numberInput.split("").map(Number);
        const playAmount = document.getElementById("playAmount").value;
        const mode = document.getElementById("modeSelect").value;

        combinations = [];

        if (mode === "SP") {
          // Unique digits (SP)
          for (let i = 0; i < numbers.length - 2; i++) {
            for (let j = i + 1; j < numbers.length - 1; j++) {
              for (let k = j + 1; k < numbers.length; k++) {
                if (
                  numbers[i] !== numbers[j] &&
                  numbers[j] !== numbers[k] &&
                  numbers[i] !== numbers[k]
                ) {
                  combinations.push("" + numbers[i] + numbers[j] + numbers[k]);
                }
              }
            }
          }
        } else if (mode === "DP") {
          // Two same digits (DP)
          for (let i = 0; i < numbers.length; i++) {
            for (let j = 0; j < numbers.length; j++) {
              for (let k = 0; k < numbers.length; k++) {
                if (i !== j && j === k) {
                  combinations.push("" + numbers[i] + numbers[j] + numbers[k]);
                }
              }
            }
          }
        }

        const resultDiv = document.getElementById("result");
        const totalCountDiv = document.getElementById("totalCount");

        count = combinations.length;
        totalCountDiv.innerHTML =
          "<p>Total Amount: " +
          count +
          " × " +
          playAmount +
          " = " +
          count * playAmount +
          "</p>";

        resultDiv.innerHTML = combinations.join("<br>");
      }

      function copyResult() {
        const resultText = document.getElementById("result").innerText;
        const marketName = document.getElementById("marketName").value;
        const playAmount = document.getElementById("playAmount").value;

        const combinationsList = resultText.split(/\s+/).filter(Boolean);
        let formattedText = marketName + "\n\n";

        formattedText += combinationsList.join(", ");
        formattedText += `...=${playAmount}/-\n\nTotal=${count * playAmount}/-`;

        const tempInput = document.createElement("textarea");
        tempInput.value = formattedText;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);
        alert("Result copied to clipboard!");
      }

      function resetForm() {
        document.getElementById("numberInput").value = "";
        document.getElementById("marketName").value = "";
        document.getElementById("playAmount").value = "";
        document.getElementById("modeSelect").selectedIndex = 0;
        document.getElementById("totalCount").textContent = "";
        document.getElementById("result").textContent = "";
        combinations = [];
        count = 0;
      }
    </script>
  </body>
</html>
